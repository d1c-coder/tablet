<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tablet Home Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        background-color: #0B0E36;
        color: #FFFFFF;
        min-height: 100vh;
    }
    .container {
        width: 100%;
        max-width: 480px;
        padding: 20px;
        text-align: center;
        position: relative;
    }
    .header {
        display: flex;
        justify-content: space-between;
        width: 100%;
        padding: 0 10px;
    }
    .username {
        font-size: 20px;
        font-weight: bold;
        color: #73BEDD;
    }
    .leaderboard-btn {
        display: inline-block;
        padding: 8px 16px;
        border: 1px solid #73BEDD;
        border-radius: 14px;
        color: #73BEDD;
        font-weight: bold;
        text-transform: uppercase;
        font-size: 14px;
    }
    .boost-btn {
        position: absolute;
        top: -10px;
        right: 20px;
        padding: 8px 12px;
        border: 2px solid #73BEDD;
        border-radius: 10px;
        background-color: rgba(115, 190, 221, 0.2);
        color: #73BEDD;
        font-size: 14px;
        cursor: pointer;
        transition: 0.3s ease;
    }
    .boost-btn:hover {
        background-color: rgba(115, 190, 221, 0.4);
    }
    .tap-circle {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 40px auto;
        width: 240px;
        height: 240px;
        border-radius: 50%;
        border: 4px solid #73BEDD;
        background: #1C1F4A;
        cursor: pointer;
        position: relative;
    }
    .tap-logo {
        width: 100px;
        height: 100px;
        background-image: url('onboard.png');
        background-size: cover;
        background-position: center;
        border-radius: 50%;
    }
    .points {
        font-size: 36px;
        font-weight: bold;
        color: #73BEDD;
        margin: 20px 0;
    }
    .tap-limit {
        font-size: 16px;
        color: #73BEDD;
        margin-bottom: 20px;
    }
    .cooldown-timer {
        font-size: 16px;
        color: #FF6B6B;
        margin-top: 10px;
        display: none;
    }
    .nav-bar {
        display: flex;
        justify-content: space-around;
        width: 100%;
        max-width: 480px;
        background-color: #1C1F4A;
        padding: 10px 0;
        position: fixed;
        bottom: 0;
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.5);
    }
    .nav-item {
        text-align: center;
        color: #73BEDD;
        font-size: 12px;
        cursor: pointer;
        transition: color 0.3s;
    }
    .nav-item i {
        font-size: 24px;
        color: #73BEDD;
        margin-bottom: 4px;
    }
</style>
<body>
    <div class="container">
        <div class="header">
            <div class="username" id="displayNickname">Nickname</div>
            <div class="leaderboard-btn" onclick="location.href='leaderboard.html'">Leaderboard</div>
        </div>
        <button id="boostButton" class="boost-btn" onclick="openBoostOverlay()">Boost</button>
        <div class="tap-circle" onclick="tapAction(event)">
            <div class="tap-logo"></div>
        </div>
        <div class="points" id="pointsDisplay">0 TAB points</div>
        <div class="tap-limit" id="tapLimitDisplay">20/20 taps left</div>
        <div class="cooldown-timer" id="cooldownTimer">Cooldown: <span id="countdownDisplay"></span></div>
    </div>

    <div class="nav-bar">
        <div class="nav-item" onclick="location.href='homepage.html'">
            <i class="fas fa-home"></i>
            <div>Home</div>
        </div>
        <div class="nav-item" onclick="location.href='taskspage.html'">
            <i class="fas fa-tasks"></i>
            <div>Tasks</div>
        </div>
        <div class="nav-item" onclick="location.href='invites.html'">
            <i class="fas fa-user-friends"></i>
            <div>Invites</div>
        </div>
        <div class="nav-item" onclick="location.href='wallet.html'">
            <i class="fas fa-wallet"></i>
            <div>Wallet</div>
        </div>
    </div>

    <script>
        const pointsDisplay = document.getElementById('pointsDisplay');
        const tapLimitDisplay = document.getElementById('tapLimitDisplay');
        const cooldownTimer = document.getElementById('cooldownTimer');
        const countdownDisplay = document.getElementById('countdownDisplay');
        let tapCount = parseInt(localStorage.getItem('tapCount'), 10) || 0;
        let totalPoints = parseFloat(localStorage.getItem('totalPoints'), 10) || 0;
        const tapsPerHour = 20;
        const cooldownDuration = 3600; // Cooldown in seconds (1 hour)
        let cooldownStart = parseInt(localStorage.getItem('cooldownStart'), 10) || null;
    
        function updateTapLimit() {
            const tapsLeft = tapsPerHour - tapCount;
            tapLimitDisplay.textContent = `${tapsLeft}/20 taps left`;
        }
    
        function updatePoints() {
            pointsDisplay.textContent = `${totalPoints.toFixed(1)} TAB points`;
        }
    
        function startCooldown() {
            cooldownStart = Math.floor(Date.now() / 1000);
            localStorage.setItem('cooldownStart', cooldownStart);
            cooldownTimer.style.display = 'block';
            tapCount = tapsPerHour; // Prevent further taps during cooldown
            updateCooldownTimer();
        }
    
        function updateCooldownTimer() {
            if (!cooldownStart) return;
    
            const now = Math.floor(Date.now() / 1000);
            const elapsed = now - cooldownStart;
    
            if (elapsed >= cooldownDuration) {
                tapCount = 0; // Reset taps
                cooldownStart = null; // Clear cooldown
                localStorage.removeItem('cooldownStart');
                cooldownTimer.style.display = 'none';
                updateTapLimit();
                return;
            }
    
            const remaining = cooldownDuration - elapsed;
            const minutes = Math.floor(remaining / 60);
            const seconds = remaining % 60;
    
            countdownDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            setTimeout(updateCooldownTimer, 1000);
        }
    
        function tapAction() {
            if (tapCount >= tapsPerHour) {
                alert("You've reached the tap limit. Wait for cooldown!");
                if (!cooldownStart) startCooldown();
                return;
            }
    
            tapCount++;
            totalPoints += 0.1;
            localStorage.setItem('tapCount', tapCount);
            localStorage.setItem('totalPoints', totalPoints);
            updateTapLimit();
            updatePoints();
    
            if (tapCount >= tapsPerHour && !cooldownStart) startCooldown();
        }
    
        // Initialize on page load
        updateTapLimit();
        updatePoints();
    
        if (cooldownStart) {
            updateCooldownTimer();
        }
    </script>
    
</body>
</html>
